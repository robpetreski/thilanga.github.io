---
layout: post
title: How to Setup smstools in debian
date: 2011-12-30
comments: true
---


<div class='post'>
    <div dir="ltr" style="text-align: left;" trbidi="on">3G dongle is the only bandwidth service I have when i'm home.
        (If my&nbsp;neighbor&nbsp;didn't turn on his WIFI connection ). Due to heavy usage of mobile broadband, my 3g
        Dongle&nbsp;frequently&nbsp;get caught to service&nbsp;disruptions by exceeding the reserved data&nbsp;bundle,
        Most of the time I had to call 3G service provider to get the connection temporary to do an online payment.
        <div><br/></div>
        <div>Normally service provider send a SMS when reaching the&nbsp;reserved&nbsp;quota (Probably when reaching
            75%). But as I can't use Mobile Partner software in linux, I always missed those SMSs, if I didn't connect
            my dongle in to a Windows&nbsp;powered&nbsp;machine (As I hardly use Windows OS, most of the time I was in
            trouble).
        </div>
        <div><br/></div>
        <div>As a solution I installed and configured smstools to avoid this mess and getting alone without the
            Internet.
        </div>
        <div><br/></div>
        <div><b>Install smstools</b></div>
        <div>
            <ol style="text-align: left;">
                <li>sudo apt-get install smstools (Install smstools)</li>
                <li>dmesg | grep usb (get the device. ex: /dev/ttyUSB0)</li>
                <li>sudo vim /etc/smsd.conf (smstools config file)</li>
                <li>sudo&nbsp;/etc/init.d/smstools start (Start smstools after changing configurations)</li>
                <li>cd &nbsp;/var/spool/sms/incoming (to see incoming sms)</li>
            </ol>
            <div><b><br/></b></div>
            <div><b>Configuration&nbsp;</b>&nbsp;(/etc/smsd.conf)</div>
        </div>
        <div><br/></div>
        <div>
            <div>devices = GSM1</div>
            <div>outgoing = /var/spool/sms/outgoing</div>
            <div>checked = /var/spool/sms/checked</div>
            <div>incoming = /var/spool/sms/incoming</div>
            <div>logfile = /var/log/smstools/smsd.log</div>
            <div>infofile = /var/run/smstools/smsd.working</div>
            <div>pidfile = /var/run/smstools/smsd.pid</div>
            <div>outgoing = /var/spool/sms/outgoing</div>
            <div>checked = /var/spool/sms/checked</div>
            <div>failed = /var/spool/sms/failed</div>
            <div>incoming = /var/spool/sms/incoming</div>
            <div>sent = /var/spool/sms/sent</div>
        </div>
        <div>
            <div>receive_before_send = no</div>
        </div>
        <div>autosplit = 3</div>
        <div><br/></div>
        <div>[GSM1]</div>
        <div>
            <div>device = /dev/ttyUSB0</div>
            <div>incoming = yes</div>
        </div>
        <div>baudrate = 19200</div>
        <div>memory_start = 1</div>
        <div><br/></div>
        <div>If you configured the smstools properly you will get sms to&nbsp;&nbsp;<b>/var/spool/sms/incoming</b></div>
        <div><b><br/></b></div>
        <div><b>Test your settings.</b></div>
        <div>
            <ol style="text-align: left;">
                <li>Send a test sms to your 3G Dongle from a mobile phone</li>
                <li>then ls&nbsp;/var/spool/sms/incoming (if the dongle&nbsp;received&nbsp;the sms, you will see a file,
                    name is&nbsp;slimier&nbsp;to <b>GSM1.AuvV6s</b>&nbsp; )
                </li>
                <li>vim&nbsp;&nbsp;/var/spool/sms/incoming/$filename to read the sms</li>
            </ol>
            <div><b>Debug your setings</b></div>
        </div>
        <div>
            <ol style="text-align: left;">
                <li>sudo tail -f /var/log/smstools/smsd.log</li>
            </ol>
            <div>Note: I didn't test sms sending through the 3G dongle as my service provider has blocked the
                facility.
            </div>
        </div>
        <div><b><br/></b></div>
        <div><b><br/></b></div>
    </div>
</div>
<h2>Comments</h2>
<div class='comments'>
</div>
